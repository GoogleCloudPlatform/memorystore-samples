<!DOCTYPE html>
<!--
  Copyright 2025 Google LLC

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Valkey For MemoryStore Caching Demo</title>

    <!-- Tailwind via CDN -->
    <link
      href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css"
      rel="stylesheet"
    />

    <script src="script.js" defer></script>
  </head>
  <body class="flex min-h-screen flex-col font-sans bg-gray-50 text-gray-800">
    <header class="bg-blue-600 text-white py-4 shadow">
      <div class="container mx-auto px-4">
        <h1 class="flex justify-center text-2xl font-bold">
          Valkey For MemoryStore Caching Demo
        </h1>
      </div>
    </header>

    <div id="app" class="flex flex-1 flex-col container mx-auto px-4 py-6">
      <!-- Messages Section -->
      <section id="messages" class="flex flex-col gap-4 mb-6">
        <p
          id="error-msg"
          class="hidden w-full rounded p-4 text-center text-lg text-red-600 bg-red-100 border border-red-300"
        ></p>
        <p
          id="success-msg"
          class="hidden w-full rounded p-4 text-center text-lg text-green-600 bg-green-100 border border-green-300"
        ></p>
      </section>

      <!-- Navigation and Search -->
      <nav
        id="nav"
        class="flex items-center gap-4 bg-white rounded shadow mb-6"
      >
        <input
          id="search-input"
          type="search"
          placeholder="Search for an item by ID, e.g., 1, 392, 1000"
          class="flex-1 text-lg p-3 rounded border border-gray-300 shadow-sm focus:outline-none focus:ring focus:ring-blue-300"
        />
        <button
          id="search-btn"
          class="px-6 py-2 text-lg font-medium text-white bg-blue-500 rounded shadow hover:bg-blue-600 focus:ring focus:ring-blue-300"
        >
          Search
        </button>
        <button
          id="retrieve-random-btn"
          class="px-6 py-2 text-lg font-medium text-white bg-gray-500 rounded shadow hover:bg-gray-600 focus:ring focus:ring-gray-300"
        >
          Retrieve Random
        </button>
      </nav>

      <!-- Items Section -->
      <section id="items" class="flex flex-col flex-1 gap-4">
        <div id="loading" class="flex flex-1 items-center justify-center">
          <p class="text-xl text-gray-500">Nothing to show yet.</p>
        </div>
      </section>

      <!-- Add Listing Section -->
      <section
        id="add-listing"
        class="flex flex-col gap-6 p-6 bg-white rounded mt-6 shadow-md border border-gray-300"
      >
        <h2 class="text-xl font-semibold text-gray-700">Add a New Item</h2>
        <div class="grid grid-cols-3 items-center gap-4">
          <input
            id="name"
            type="text"
            placeholder="Enter name"
            class="col-span-2 text-sm rounded border border-gray-300 py-2 px-3 focus:outline-none focus:ring focus:ring-blue-300"
          />
        </div>
        <div class="grid grid-cols-3 items-center gap-4">
          <textarea
            id="description"
            placeholder="Enter description"
            class="col-span-2 text-sm rounded border border-gray-300 py-2 px-3 focus:outline-none focus:ring focus:ring-blue-300 resize-none"
            rows="3"
          ></textarea>
        </div>
        <div class="grid grid-cols-3 items-center gap-4">
          <input
            id="price"
            type="text"
            placeholder="Enter price"
            class="col-span-2 text-sm rounded border border-gray-300 py-2 px-3 focus:outline-none focus:ring focus:ring-blue-300"
          />
        </div>
        <div class="flex justify-end">
          <button
            id="create-btn"
            class="py-2 px-6 text-sm text-white bg-green-500 rounded shadow hover:bg-green-600 focus:ring focus:ring-green-300"
          >
            Create
          </button>
        </div>
      </section>

      <!-- Result Analysis Section -->
      <footer
        id="result-analysis"
        class="flex justify-center gap-12 bg-white p-4 rounded shadow mt-6"
      >
        <p class="text-gray-700">
          Item is from cache: <b id="from-cache" class="font-semibold">null</b>
        </p>
        <p>|</p>
        <p class="text-gray-700">
          Time to fetch item:
          <b id="time-to-fetch" class="font-semibold">null</b>
        </p>
      </footer>
    </div>
  </body>
</html>
